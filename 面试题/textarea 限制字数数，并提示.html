<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <p><textarea name="contents" id="contents" cols="15" rows="5" size="10" ></textarea><span id="a">已输入字符: </span></p>
  
    <script type="text/javascript">
    var contents = document.getElementById('contents');
    var maxl=20//总长
    contents.onkeyup = function(){
      var s = contents.value.length;
      console.log(s,maxl);
      if(s >maxl){
        contents.value = contents.value.substring(0,maxl)
        alert('已超过20')
      }else {
        document.getElementById("a").innerHTML="已输入："+s+"/"+maxl+" 字符"
      }
    }
  
</script>
  </body>
</html>